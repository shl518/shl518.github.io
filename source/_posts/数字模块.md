---
title: 数字模块
date: 2022-05-09 15:22:00
tags: 计算机组成
---

## 数字模块

### 半加器与全加器

- 半加器没有考虑进位，相当于一个异或门
- 全加器：

##### 行波进位加法器

![1](https://note.youdao.com/yws/api/personal/file/4A82FB8FBB614A8B9EC8E1EAFF53B8E0?method=download&shareKey=13816bb38172af4236b25ae359fcd1eb)
串行进位，依此串联

##### 先行进位加法器

![2](https://note.youdao.com/yws/api/personal/file/FC56D45439FC45748E3F223823C14ED3?method=download&shareKey=43ec1bafebae5e3ba74256c05e5877e9)
并行进位，提前计算进位，不必等待前一位输出进位后再计算

##### 前缀加法器

参加《数字设计与计算机体系结构P149》，实际上应用了前缀的思想，需要的硬件数多，实现速度最快，为对数级。

------------------------

### 减法器

将负数以补码的形式表示出来，输入到全加器中即可实现。

------------------------

### 比较器

- 相等比较器，使用异或门检查每一位是否相等，最后使用与门作与
- 量值比较器，二者做减法，检查最高位01，判断是大于等于，还是小于

----------------------------

### ALU算术逻辑单元

- 实现加，减法，量值比较，与运算，或运算，是大多数计算机的核心
  ![3](https://note.youdao.com/yws/api/personal/file/E6EC7EAAB72D45CFA794F2453FBAF259?method=download&shareKey=8628617def2fc94f51475d90ce4100f7)

### 阵列乘法器

![4](https://note.youdao.com/yws/api/personal/file/D2BA58A290C54D01B4D585E383C3B927?method=download&shareKey=f050174849962641682f0fd3b244de98)

### 编码器译码器略

### 多位选择器

- 多位选择器可以正常作为选择功能使用，也可以反着用，把输出作为选择端，输入作为数据端，就可以实现数据端的任意逻辑组合电路
  ![5](https://note.youdao.com/yws/api/personal/file/B84BFAB05D094F1DADF48EB0BF38757C?method=download&shareKey=743fe6bac84f18a902f0b7f1d13b135d)

-------------

### 数据寄存器与数据锁存器

**数据寄存器**
![1](https://note.youdao.com/yws/api/personal/file/A1631345396F4BFE9B3B82124745AB46?method=download&shareKey=90ad7333df6a28fabd31fffc4eada20c)

- 由边沿触发的触发器构成（D触发），脉冲敏感型 
- 适用于数据有效提前于控制信号

```v
always @(posedge clk or posedge rst)
```

**数据锁存器**

- 由电位触发器（D锁存器）组成，电平敏感
- 数据有效滞后于控制信号

```v
always @(clk or rst)
```

------------------------

### 移位寄存器

#### 四位右移寄存器

![44](https://note.youdao.com/yws/api/personal/file/64638569CC7A4641BB504764B9680022?method=download&shareKey=efa473c569f7ace0f1019069bb1d818f)

- 由四个D触发组成，数据从左端输入，依此通过低位寄存器，高位触发器的输出送低位触发器的输入
- 有两种工作方式
  - 串入并出：N位移位寄存器经过N个CP后，最后一个输出恰好为第一个输入，此时从低位到高位的输出正好为完整的输入串，称为并行输出。
  - 串入串出；每一个输出都会串行输出输入串，只不过后级触发器的输出比前一个触发器要晚一个周期，把处于串入串出的移位寄存器称为**延迟线**。

#### 双向移位寄存器

**通过在触发器的输入端增加门电路来增加控制左右移的功能**
![3](https://note.youdao.com/yws/api/personal/file/2E83B9F516954A45A6D031A5A34BE929?method=download&shareKey=e7f7bfaec1a208e77a68d61bb6dc6371)

- CT74194芯片：一共四个功能，通过S1，S0控制
  ![4](https://note.youdao.com/yws/api/personal/file/7B0E78D4E3C54B8983DDC51D0BB7103D?method=download&shareKey=2e134456bdfc0b4ead27941887df8a94)

-----------------------

### 计数器

#### 同步计数器

- 功能：计数计时，分频，产生节拍脉冲和序列脉冲
- 分类
  - 时钟方式：同步计数器，异步计数器
  - 计数方式：M进制计数器
  - 状态分类：加法，减法，加/减法
- 同步二进制计数器也称为分频器，实际上CP进行了2，4，8，16分频

#### 异步计数器

- 高位触发器的时钟信号由低位触发器的输出提供，高位触发器的翻转等待低一位的触发器反转后才能进行。
- 触发器不同步，出现尖锋脉冲
  ![11](https://note.youdao.com/yws/api/personal/file/DBD3D2E6B38249489973D9D75E1ABD7C?method=download&shareKey=99397cfe426733cb3aa59d593eb75f79)

------------------------

#### 存储器

分类：

- 按介质：半导体，磁介质，光盘
- 按访问方式：随机访问（RAM），顺序访问，直接访问，只读存储器（ROM）
- 按功能：
  - 高速缓冲存储器（Cache）是介于中央处理器和主存储器之间的高速小容量存储器
  - 主存储器，一般由半导体存储器
  - 控制存储器
  - 辅助存储器，磁存储器，不易失性
    性能指标：
- 访问时间
  - 对于随机访问存储器，指给定地址到存储器完成读或写操作所需的时间
  - 其他类型：定位到目标位置的时间
- 存储周期：两次访问存储单元间的最小时间
- 带宽计算
  - 随机访问存储器：`1/周期`
  - 其他类型：
    ![1](https://note.youdao.com/yws/api/personal/file/B0FE9B454B1C477285250D522E9D58D5?method=download&shareKey=20db72df25cbfbf51432cc4b684850e7)
    **以下是计算机内部存储系统**
    ![2](https://note.youdao.com/yws/api/personal/file/A81342C375A44578988ACAA6DBDB22A7?method=download&shareKey=c18f292d6c0f8f409c4550badd68274f)
    二级存储系统由Cache和主存储器构成

#### 半导体存储器

- 随机访问存储器RAM
  - 静态随机访问存储器SRAM，集成度低，不必刷新，用作Cache，快
  - 动态随机访问存储器DRAM，需要刷新，集成度高，用作主存，慢
- 只读存储器ROM
  - 不可在线改写内容
  - 块擦除存储器Flash ROM

##### SRAM

![3](https://note.youdao.com/yws/api/personal/file/A97EABB052554835B7305D54C3215354?method=download&shareKey=02c0561714ff07048fbc84ccb174542f)

- 字选线决定是否对当前存储单元进行操作
- 以A点的电平状态代表0，1
- 左右两侧为数据读写线

##### DRAM

![4](https://note.youdao.com/yws/api/personal/file/393230E675D648EBA69E65A96813744F?method=download&shareKey=d55fdbc773da5aa54902e50fa585db80)

- 采用电容充放电原理
- 读出时，将D线充电2.5V，字选线选中，若内部为3.5V高电平，电流从内往外，若内部低电平0V，电流从外往内。（但读出时会对原有状态造成破坏，读出完毕后内部电路变为2.5V的一个中间态，所以需要）
- 写入时，将D线置高或低电平，字选线选中，对内部电容进行充放电

##### 存储芯片内部结构

存储芯片容量=字单元数*每个字单元的位数
**多个存储位元（存储单元）构成一个字单元，多个字单元构成一个存储芯片，任一时刻可以（也只能）访问1024个独立字单元中的任意一个，每次读写的数据位数是一个字单元的容量（2位）**
地址线：由字单元的个数决定
数据线：因为每次只能读写一个字单元，所以字单元里有几个存储位元，就需要几根数据线
![6](https://note.youdao.com/yws/api/personal/file/80CF6339D32143E7A80A4DF8122F4C08?method=download&shareKey=628e6043b1a6ebbad955d94efb92f96b)
如图，每一个小方块是一个存储位元，我们把行选和列选的管教弄成相同的，这样可以在芯片中重复利用管脚。搭配使用译码器，mos管就可以实现定位到每一个**字单元**进行操作。
![7](https://note.youdao.com/yws/api/personal/file/2A9D8D3DA7A141C7B3B7130B23972BB4?method=download&shareKey=c3dc38b55c49e803d56823a07d6ca743)
如上图，封装时将行选和列选的管教公用，通过控制端选择行选还是列选。
